hui.define("hui_util",["hui"],function(){hui.util={},hui.util.g=function(e,t){if(window.jQuery)return t?window.jQuery("#"+e,window.jQuery("[object String]"===Object.prototype.toString.call(t)?"#"+t:t)).get(0):window.jQuery("#"+e).get(0);if(t){if(!hui.bocument||t!=hui.bocument&&t!=hui.bocument.body){var n,i,r,u,o,l,s;for(u=[],o=[t];o.length;)if(r=o.pop()){if(r.id==e)break;if(u.push(r),l=r.childNodes,l&&!(l.length<1))for(n=0,i=l.length;i>n;n++)s=l[n],o.push(s)}return r.id==e?r:null}return hui.bocument.getElementById(e)}return document.getElementById(e)},hui.util.c=function(e,t){if(window.jQuery)return t?window.jQuery("."+e,window.jQuery(t)):window.jQuery("."+e);if(document.getElementsByClassName)return(t||document).getElementsByClassName(e);e=null!==e?String(e).replace(/\s+/g," "):"",t=t||document;for(var n,i,r=e.split(" "),u=t.all,o=[],l=[],s=r.length;--s>=0;)o.push(new RegExp("(^|\\s)"+r[s]+"(\\s|$)"));for(var a=u.length;--a>=0;){n=u[a],i=!1;for(var h=0,d=o.length;d>h&&(i=o[h].test(n.className),i);h++);i&&l.push(n)}return l},hui.util.cc=function(e,t){return hui.util.c(e,t)[0]},hui.util.t=function(e,t){return t=t||document,window.jQuery?t?window.jQuery(e,window.jQuery(t)):window.jQuery(e):t.getElementsByTagName(e)},hui.util.appendHTML=function(e,t){if(window.jQuery)return window.jQuery(e).append(t);var n=document.createElement("DIV");n.innerHTML=t,e.appendChild(n);for(var i=[],r=0,u=n.childNodes.length;u>r;r++)i[r]=n.childNodes[r];for(var r=0,u=i.length;u>r;r++)e.appendChild(i[r]);return e.removeChild(n),e},hui.util.getDom=function(e){var t=[],n=document.createElement("DIV");n.innerHTML=e;for(var i=0,r=n.childNodes.length;r>i;i++)1==n.childNodes[i].nodeType&&t.push(n.childNodes[i]);return t},hui.util.findParentByClassName=function(e,t){for(var n=null;e&&e.tagName;){if(e&&hui.Control.hasClass(e,t)){n=e;break}if(~",html,body,".indexOf(","+String(e.tagName).toLowerCase()+","))break;e=e.parentNode}return n},hui.util.findSiblingByClassName=function(e,t,n){var i=null,r=e;if(!n||"next"==n||"nxt"==n||"last"==n)for(;r&&(!hui.Control.hasClass(r,t)||(i=r,"last"===n||r===e));)r=r.nextSibling;if(!n||"pre"==n||"first"==n)for(;r&&(!hui.Control.hasClass(r,t)||(i=r,"first"===n||r===e));)r=r.previousSibling;return i},hui.util.hasClass=function(e,t){return window.jQuery?window.jQuery(e).hasClass(t):~(" "+e.className+" ").indexOf(" "+t+" ")},hui.util.addClass=function(e,t){if(window.jQuery)return window.jQuery(e).addClass(t);if(~"[object Array][object NodeList]".indexOf(Object.prototype.toString.call(e)))for(var n=0,i=e.length;i>n;n++)hui.util.addClass(e[n],t);else e&&(hui.util.removeClass(e,t),e.className=(e.className+" "+t).replace(/(\s)+/gi," "));return e},hui.util.removeClass=function(e,t){if(window.jQuery&&-1===String(t).indexOf("*")&&-1===String(t).indexOf("?"))return window.jQuery(e).removeClass(t);if(~"[object Array][object NodeList]".indexOf(Object.prototype.toString.call(e)))for(var n=0,i=e.length;i>n;n++)hui.util.removeClass(e[n],t);else if(e){for(var r,u,o=t.replace(/\s+/gi," ").split(" "),l=" "+(e.className||"").replace(/(\s)/gi,"  ")+" ",n=0,i=o.length;i>n;n++)r=o[n],r=r.replace(/(\*)/g,"\\S*").replace(/(\?)/g,"\\S?"),u=new RegExp(" "+r+" ","ig"),l=l.replace(u," ");l=l.replace(/(\s)+/gi," "),l=l.replace(/^(\s)+/gi,"").replace(/(\s)+$/gi,""),e.className=l}return e},hui.util.getDocumentHead=function(e){return e=e||document,e.head||e.getElementsByTagName("head")[0]||e.documentElement},hui.util.hasCssString=function(e,t){var n,i,r=!1;if(t=t||document,t.createStyleSheet&&(n=t.styleSheets))for(var u=0,o=n.length;o>u;u++){if(i=n[u],i&&i.owningElement&&i.owningElement.id===e){r=i.owningElement;break}if(i&&i.ownerNode&&i.ownerNode.id===e){r=i.ownerNode;break}}else if(n=t.getElementsByTagName("style"))for(var u=0,o=n.length;o>u;u++)if(i=n[u],i.id===e){r=i;break}return r},hui.util.removeCssString=function(e,t){var n,i=hui.util.hasCssString(e,t);i&&(n=i.parentNode,n.removeChild(i))},hui.util.importCssString=function(e,t,n){hui.util.removeCssString(t,n),n=n||document;var i=document.createElement("style");t&&(i.id=t);var r=n.head||n.body||n.documentElement;return r.insertBefore(i,r.lastChild),r!==n.documentElement&&i.nextSibling&&r.insertBefore(i.nextSibling,i),i.setAttribute("type","text/css"),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),i},hui.util.insertCssRule=function(e,t){var n,i=document.getElementsByTagName("style"),r=i&&i.length?i[i.length-1]:hui.util.importCssString(""),u=r.sheet?r.sheet:r.styleSheet,o=u.cssRules||u.rules,l=o.length,s=e.indexOf("{");-1!==s&&(n=e.indexOf("}",s+1),t=e.substring(s+1,-1===n?e.length:n),e=e.substring(0,s)),t=String(t).replace(/(^\s+|\s+$)/g,""),0===t.indexOf("{")&&(t=t.substring(1,t.length)),t.indexOf("}")===t.length-1&&(t=t.substring(0,t.length-2)),u.insertRule?u.insertRule(e+"{"+t+"}",l):u.addRule&&u.addRule(e,t,l)},hui.util.addCssRule=hui.util.insertCssRule,hui.util.importCssStylsheet=function(e,t){if(t=t||document,t.createStyleSheet)t.createStyleSheet(e);else{var n=hui.util.createElement("link");n.rel="stylesheet",n.href=e,hui.util.getDocumentHead(t).appendChild(n)}},hui.util.format=function(e,t){e=String(e);var n=Array.prototype.slice.call(arguments,1),i=Object.prototype.toString;return n.length?(n=1==n.length&&null!==t&&/\[object (Array|Object)\]/.test(i.call(t))?t:n,e.replace(/#\{(.+?)\}/g,function(e,t){for(var r,u=t.split("."),o=u.shift(),l=n;o;){if(void 0===l[o]){l=void 0;break}l=l[o],o=u.shift()}return r=l,"[object Function]"===i.call(r)&&(r=r(t)),void 0===r?"":r})):e},hui.util.sortBy=function(e,t,n){return e&&e.sort&&e.length&&e.sort(function(e,i){var r,u;return r=String(e[t]).toLowerCase(),u=String(i[t]).toLowerCase(),String(parseInt("0"+r,10))==r&&String(parseInt("0"+u,10))==u?(r=parseInt(r,10),u=parseInt(u,10)):r>u?(r=1,u=-r):u>r?(r=-1,u=-r):(r=1,u=r),"desc"==n?u-r:r-u}),e},hui.util.on=function(e,t,n){return window.jQuery&&window.jQuery.prototype.on?window.jQuery(e).on(t,n):void(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n))},hui.util.off=function(e,t,n){return window.jQuery&&window.jQuery.prototype.off?window.jQuery(e).off(t,n):(e.removeEventListener&&e.removeEventListener(t,n,!1),void(e.detachEvent&&e.detachEvent("on"+t,n)))},hui.util.onenter=function(e,t){hui.util.on(e,"keyup",function(n){n=n||hui.window.event;var i=n.keyCode||n.which;13==i&&(e.onenter&&e.onenter(),t(e))})},hui.util.onesc=function(e,t){hui.util.on(e,"keyup",function(n){n=n||hui.window.event;var i=n.keyCode||n.which;27==i&&(e.onesc&&e.onesc(),t(e))})},hui.util.getCookie=function(e){var t=document.cookie.indexOf(e+"="),n=t+e.length+1;if(!t&&e!=document.cookie.substring(0,e.length))return void 0;if(-1==t)return void 0;var i=document.cookie.indexOf(";",n);return-1==i&&(i=document.cookie.length),unescape(document.cookie.substring(n,i))},hui.util.setCookie=function(e,t,n,i,r,u){n=n||864e5;var o=new Date((new Date).getTime()+n);document.cookie=e+"="+escape(t)+(n?";expires="+o.toGMTString():"")+(i?";path="+i:"")+(r?";domain="+r:"")+(u?";secure":"")},hui.util.removeCookie=function(e,t,n){hui.util.getCookie(e)&&(document.cookie=e+"="+(t?";path="+t:"")+(n?";domain="+n:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT")},hui.util.formatDate=function(e,t){e||(e=new Date),t=t||"yyyy-MM-dd HH:mm";var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12===0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()},i={0:"/u65e5",1:"/u4e00",2:"/u4e8c",3:"/u4e09",4:"/u56db",5:"/u4e94",6:"/u516d"};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"/u661f/u671f":"/u5468":"")+i[e.getDay()+""]));for(var r in n)n.hasOwnProperty(r)&&new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t},hui.util.parseDate=function(e){e=String(e).replace(/^[\s\xa0]+|[\s\xa0]+$/gi,"");var t=null;return t=e.match(/^ *(\d{10}) *$/),t&&t.length>0?new Date(1e3*parseInt(e)):(t=e.match(/^ *(\d{13}) *$/),t&&t.length>0?new Date(parseInt(e)):(t=e.match(/^ *(\d{4})(\d{2})(\d{2}) *$/),t&&t.length>3?new Date(parseInt(t[1]),parseInt(t[2])-1,parseInt(t[3])):(t=e.match(/^ *(\d{4})(\d{2})(\d{2}) +(\d{2})(\d{2}) *$/),t&&t.length>5?new Date(parseInt(t[1]),parseInt(t[2])-1,parseInt(t[3]),parseInt(t[4]),parseInt(t[5])):(t=e.match(/^ *(\d{4})[\._\-\/\\](\d{1,2})[\._\-\/\\](\d{1,2}) *$/),t&&t.length>3?new Date(parseInt(t[1]),parseInt(t[2])-1,parseInt(t[3])):(t=e.match(/^ *(\d{4})[\._\-\/\\](\d{1,2})[\._\-\/\\](\d{1,2}) +(\d{1,2}):(\d{1,2}) *$/),t&&t.length>5?new Date(parseInt(t[1]),parseInt(t[2])-1,parseInt(t[3]),parseInt(t[4]),parseInt(t[5])):(t=e.match(/^ *(\d{4})[\._\-\/\\](\d{1,2})[\._\-\/\\](\d{1,2}) +(\d{1,2}):(\d{1,2}):(\d{1,2}) *$/),t&&t.length>6?new Date(parseInt(t[1]),parseInt(t[2])-1,parseInt(t[3]),parseInt(t[4]),parseInt(t[5]),parseInt(t[6])):new Date(e)))))))},hui.util.encode=function(e,t){e=String(e);var n="%| |&|;|=|+|<|>|,|\"|'|#|/|\\|\n|\r|	".split("|"),i="%25|%20|%26|%3B|%3D|%2B|%3C|%3E|%2C|%22|%27|%23|%2F|%5C|%0A|%0D|%09".split("|");if("decode"==t)for(var r=n.length-1;r>-1;r--)e=e.replace(new RegExp("\\"+i[r],"ig"),n[r]);else for(var r=0,u=n.length;u>r;r++)e=e.replace(new RegExp("\\"+n[r],"ig"),i[r]);return e},hui.util.decode=function(e){return this.encode(e,"decode")},hui.util.encodehtml=function(e,t){e=String(e);var n="&|<|>| |'|\"|\\".split("|"),i="&amp;|&lt;|&gt;|&nbsp;|&apos;|&quot;|&#92;".split("|");if("decode"==t)for(var r=n.length-1;r>-1;r--)e=e.replace(new RegExp("\\"+i[r],"ig"),n[r]);else for(var r=0,u=n.length;u>r;r++)e=e.replace(new RegExp("\\"+n[r],"ig"),i[r]);return e},hui.util.decodehtml=function(e){return this.encodehtml(e,"decode")},hui.util.setInnerHTML=function(e,t){return e=e&&e.getMain?e.getMain():e,e&&void 0!==e.innerHTML&&(e.innerHTML=t),e},hui.util.setInnerText=function(e,t){e&&(void 0!==e.textContent?e.textContent=t:e.innerText=t)},hui.g=hui.util.g,hui.c=hui.util.c,hui.cc=hui.util.cc,hui.t=hui.util.t,hui.appendHTML=hui.util.appendHTML,hui.hasClass=hui.util.hasClass,hui.addClass=hui.util.addClass,hui.removeClass=hui.util.removeClass,hui.sortBy=hui.util.sortBy,hui.on=hui.util.on,hui.off=hui.util.off,hui.onenter=hui.util.onenter,hui.getCookie=hui.util.getCookie,hui.setCookie=hui.util.setCookie,hui.removeCookie=hui.util.removeCookie,hui.formatDate=hui.util.formatDate,hui.parseDate=hui.util.parseDate,hui.setInnerHTML=hui.util.setInnerHTML,hui.setInnerText=hui.util.setInnerText}),hui.util.importCssString("html {}");